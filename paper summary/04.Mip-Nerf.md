> 先了解一些词语

> 信号处理中的“混叠”：  
![信号处理中的“混叠”](https://github.com/gjgjgjfff/Nerf_Learn/blob/main/img/mip-Nerf/%E6%B7%B7%E5%8F%A0%E5%AE%9A%E4%B9%89.png)
> 在信号处理中，"混叠"是指由于信号的采样频率过低而引起的频谱重叠现象。它是一个常见的问题，特别是在模拟信号转换为数字信号的过程中。
> 
> 当对连续时间信号进行采样时，需要按照一定的时间间隔对信号进行采样，将其转换为离散时间信号。采样过程相当于在时间轴上截取了一系列样本点，形成离散的采样序列。然而，如果采样频率不足以捕捉到信号中的高频内容，就会出现混叠现象。
> 
> 混叠通常发生在信号的频率超过采样频率的一半时。采样频率的一半被称为奈奎斯特频率（Nyquist frequency）。如果信号中的频率高于奈奎斯特频率，则会发生混叠。在混叠过程中，高于奈奎斯特频率的部分将被错误地映射到低于奈奎斯特频率的频率范围内。

> 锯齿（Aliasing）：  
> 锯齿产生的本质就源自于采样频率低于真实原始信号的频率，即信号处理中的“混叠”现象。解决方法很多，提高分辨率是最简单的方法，但是会增加成本；或者使用抗锯齿(Antialiasing)/反走样方法，比如先通过一个低通滤波器滤去高频成分，再进行接下来的操作。
# 要解决的问题
* 像素点的颜色是由该像素点所接收到的所有入射光线的综合效果决定的（像素点接收到的入射光线通常是来自多个方向和多个波长的光线的综合效果。这是因为在实际场景中，光线会经过反射、折射、散射等过程，从不同的方向和角度进入图像传感器），且每条光线是有观察范围的，用一个梯形来表示。但Nerf只为每个像素点投射了一条光线，且Nerf忽略了每条光线的观察范围体积与大小，仅用一个点来代表整个梯形，从而导致了误差和锯齿的产生，对于下图中，两个不同视角的相机在不同尺度对同一位置进行成像可能会产生相同的特征，从而显著降低Nerf的性能。  
![point-sampled-features](https://github.com/gjgjgjfff/Nerf_Learn/blob/main/img/mip-Nerf/point-sampled-features.png)  
所以要想改变NeRF的这种弊端，需要替代渲染时的采样方式或者采样数量，而将one ray per pixel的采样数量提升到multiple rays per pixel能够使采样频率更高，但是Nerf这种网络需要查询数百次MLP来渲染一条光线，时间成本太高，故Mip-NeRF通过从每个像素投射一个圆锥体来改善这个问题。
# Mip-Nerf做出的贡献
### 一、用圆锥体替换光线
当使用圆锥体替换光线后，采样的不再是离散的点集，而是一个连续的圆锥截台（conical frustum），这能够解决NeRF中忽略了光线观察范围体积与大小的问题。Mip-Nerf不是沿着每条射线进行点采样，而是将被投射的圆锥体分成一系列截头圆锥体(截头圆锥体（Frustum of a cone）是一个几何体，它是由一个圆锥体在垂直于其轴线方向上的截面与两个平行平面之间的部分所形成的)。不是从空间中的一个无穷小的点构建位置编码(PE)特征，而是构建每个截头圆锥体所覆盖的体积的集成位置编码(IPE)特征。这些变化使得MLP可以推断每个截头圆锥体的大小和形状，而不仅仅是它的形心。
![Indicator-function](https://github.com/gjgjgjfff/Nerf_Learn/blob/main/img/mip-Nerf/Indicator-function.jpg)
### 二、单一的MLP
NeRF使用具有两个不同MLP的分层采样过程——fine和coarse。 这在NeRF中是必要的，因为它的PE特性意味着它的MLP只能学习单一规模的场景模型。 但是Mip-Nerf服从高斯分布的位置编码可以自动在采样频率较低时（IPE特征间隔较宽时）弱化高频特征，从而缓解混叠现象。这种采样设计本身决定了其适用于多尺度情况，因此，Nerf的两个MLP可以合并为一个MLP。